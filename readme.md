# Week Timer
Утилита которая показывает запущенную задачу в week.net в системном трее.

![Screenshot_46](https://github.com/mcnickbronx/week_timer/assets/17063709/870c01ae-4c6b-4121-88fe-d483050b5286)

![Screenshot_47](https://github.com/mcnickbronx/week_timer/assets/17063709/0f5c4438-84ff-4c2d-9661-6436c75c0ccb)

![Screenshot_48](https://github.com/mcnickbronx/week_timer/assets/17063709/28d60ed5-5457-48d2-bf6e-b5052ae1edad)

## Использование программы

Таймер по апи считывает все ваши задачи.
Считает общее время по всем задачам за сегодняшенее число.

*Важно!* Если задача закрыта, она не попадет в общее время за сегодня.

Таймер считает общее время по задаче, и время запущенное сейчас.

Таймер который запущен сейчас отражается в трее в виде минут. На часы не делится.

Что бы увидеть время за сегодня и общее по задаче на Виндовс нужно навести мышкой на значок.
На Маке нужно сделать правый клик мышкой и информаци будет в меню.

Когда в Week выключается таймер, то информация к таймеру придет через минуту.
Т.к. он может понимать только разницу было минут и стало минут.

# Установка

Установите все пакеты через pip (или pip3) из файла
requirements.txt

Или установите из файла командой
```
pip install -r requirements.txt
```
или вручную
```
pip install pystray Pillow requests
```
## Конфигураяция

Для конфигурации используется файл
**settings.ini**
данный файл необходимо создать в корне папки *app*
пример оформления файла находится в **settings_demo.ini**

Заполните данные двумя ключами

**API_KEY**

Найти его можно в настройке рабочего пространства Week раздел API.
Апи выдается на каждое рабочее пространство.
[Подробнее на сайте Week](https://weeek.net/ru/help/workspace/integracii/api)

Внимание! Можноиспользовать несколько ключей от разных рабочих пространств через запятую слитно.
см. settings_demo.ini. Если нужен только один ключ, запишите его без запятой.

**ID_USER**

Данный ID нужен что бы собирать только задачи конкретного пользователя.
1. Что бы найти свой ID зайдите на сайте (не в приложении) на доску с задачами.
2. В фильтре выберете себя исполнителем
3. В аресной строке будет ссылка вида *app.weeek.net/ws/433533?assignees={ВАШ ИД}*
4. Скопируйте его в свой файл конфигурации в раздел ID_USER

## Запуск

Для запуска необходимо в консоли прейтие в папку app
И далее запустить файл main.py

```
cd {вашпуть}\app
python main.py
```
Можно создать bat-скрипт или bash-скрипт который будет запускать Таймер.
Можно поставить для удосбства в автозагрузку

Запуск без терминала (работает только на Windows)
```
cd app
python run.py
```

